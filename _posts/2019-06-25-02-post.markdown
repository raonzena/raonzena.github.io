---
published: true
layout: post
title:  "What is Nginx?"
date:   2019-06-25
author: raonzena 
category: Web Server
tags:
- web server
- web
- apache
- nginx
- app engine
- s3
comments: true
---


# Web Server란?
웹 서버란 간단하게 설명하자면 기본적으로 웹 사용자가 어떻게 호스트 파일들에 접근하는지를 관리합니다.  
웹 서비스를 제공하려면 웹 서버(WebServer)가 필요합니다. 웹 서버와 클라이언트인 웹 브라우저는 자료를 요청하고 요청에 대한 응답을 처리하기 위해 HTTP로 통신합니다. 웹에서 텍스트, 이미지, 음성, 영상과 같은 다양한 형식의 자료를 주고받을 수 있는 이유도 웹 서비스의 기본 프로토콜인 HTTP 때문입니다.  
이러한 웹 서버는 여러 종류가 있는데 대표적으로 apache와 nginx를 비교하여 설명하도록 하겠습니다.
  

# Apache
![](https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Apache_Software_Foundation_Logo_%282016%29.svg/512px-Apache_Software_Foundation_Logo_%282016%29.svg.png)
apache는 client에서 요청을 받으면 MPM(Multi Processing Module:다중처리모듈)이라는 방식으로 처리를 합니다.  
이는 쓰레드/프로세스 기반 구조로 요청 하나당 쓰레드 하나가 처리하는 구조입니다. 그래서 사용자가 많으면 많은 쓰레드를 생성하게 되고, 따라서 메모리 및 CPU 낭비가 심합니다.  
  
# Nginx
![](https://www.nginx.com/wp-content/uploads/2018/08/NGINX-logo-rgb-large.png)
nginx는 비동기 event-driven 방식으로 클라이언트에 요청을 처리해주는 웹 서버입니다.  
event-driven방식은 어떤 작업을 하는 도중 CPU가 관여하지 않는 작업이 시작되면 기다리지 않고 바로 다른 작업을 수행합니다. 그 작업들이 끝나면 전에 하고 있었던 작업을 다시 진행하면 된다는 이벤트가 발생하고 그 작업을 처리하게 됩니다.  
nginx는 한 개 또는 고정된 프로세스만 생성하고, 그 프로세스 내부에서 비동기 방식으로 효율적으로 작업을 처리합니다. 따라서 동시 접속 요청이 많아도 프로세스 또는 쓰레드 생성 비용이 존재하지 않습니다.  
따라서 nginx는 적은 수의 쓰레드로 효율적인 일 처리를 하며, 쓰레드를 많이 사용하지 않기 때문에 메모리 및 CPU소모도 적습니다.  
  
# Nginx vs Apache
다음 차트는 apache와 nginx를 동일한 기준에서 성능 테스트를 한 결과입니다. 동시 접속자수가 늘어나도 apache보다 nginx가 훨씬 좋은 성능을 유지하고 있는 것을 알 수 있습니다.
![](https://i1.wp.com/tengine.taobao.org/images/benchmark.png)
![](https://i2.wp.com/tengine.taobao.org/images/benchmark2.png)